## 组件注册
### 全局注册
我们可以使用 Vue 应用实例的 .component() 方法，让组件在当前 Vue 应用中全局可用。
```javascript
app
  .component('ComponentA', ComponentA)
  .component('ComponentB', ComponentB)
  .component('ComponentC', ComponentC)
```
### 局部注册
就是使用的时候import
## props声明
一个组件需要显式声明它所接受的props，这样vue才能够知道外部传入的是哪些props
- 在使用了`setup`的单文件组件中，props可以通过`defineProps()`宏来声明
```html 
<script setup>
const props = defineProps(['foo'])

console.log(props.foo)
</script>
```
```html
- 在没有使用`<script setup/>`的组件中，props可以通过`props`选项来声明
```javascript
export default {
    props:["foo"],
    setup(props){
        console.info(props.foo)
    }
}
```
- 除了使用字符串数组的形式来声明props外，还可以通过使用对象的形式来证明
```javascript
//使用setup
defineProps({title:String,likes:Number})
```
ts版本如下
```html
<script setup lang="ts">
//使用setup
defineProps<{
  title?: string
  likes?: number
}>()
</script>
```
```javascript
//非setup
export default {
    props:{
        title:String;
        likes:Number;
    }
}
```
### 单向数据流
所有的props都遵循**单向绑定**原则，props因父组件的更新而变化
```javascript
const props = defineProps(['foo'])

// ❌ 警告！prop 是只读的！
props.foo = 'bar'
```
导致你想要更改props的需求通常源于以下两种场景
1. **props被用于传入初始值，在子组件想要在之后将其作为一个局部数据属性**
```javascript
const props = defineProps(['initialCounter'])

// 计数器只是将 props.initialCounter 作为初始值
// 像下面这样做就使 prop 和后续更新无关了
const counter = ref(props.initialCounter)
```
2. **需要传入一个props值做进一步的转换**
```javascript
const props = defineProps(['size'])

// 该 prop 变更时计算属性也会自动更新
const normalizedSize = computed(() => props.size.trim().toLowerCase())
```
### props校验
vue组件可以更加细致地声明对传入的props的校验要求，这在开发给其他开发者使用的组件时非常有用
```html
<script lang="ts" setup>
defineProps({
	type: {
		type: String,
		required: true,
		validator(type: any) {
			return ["default", "primary", "text", "link"].includes(type)
		}
	}
})
</script>
<script lang="ts">
import { defineComponent } from "vue";
export default defineComponent({
	name: "HelloWorld",
});
</script>
<template>
	<div>
		{{ type }}
	</div>
</template>

```
- `defineProps()`宏中的参数不能够访问`<script setup/>`中定义的其他变量
- 所有props都是可选的，除非声明了`required:true`
- 除`Boolean`外未传递的可选props将会有一个默认值`undefined`
- `Boolean`类型未传递props将会被转换为`false`
